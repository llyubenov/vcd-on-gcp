resource "google_vmwareengine_network" "vmw-engine-network" {
    name              = var.gcve_network_name
    location          = "global" # Standard network needs to be global
    type              = "STANDARD"
    description       = var.gcve_network_description
}

resource "google_vmwareengine_network_peering" "vmw-engine-network-peering" {
    count = var.gcve_vpc_peering ? 1 : 0
    name = "gcve-vpc-network-peering"
    description = "GCVE to VPC network peering"
    peer_network = var.vpc_network_id
    peer_network_type = "STANDARD"
    vmware_engine_network = google_vmwareengine_network.vmw-engine-network.id
}
